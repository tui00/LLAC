@connect signdigit ; Подключаем счетчик для вывода
; === Программа ===
prepare 0, d:c
cleardigit
loop:
    readchar a ; Считываем операцию

    ldi b, "+" ; Загружаем в b +
    sub a, b ; Вычитаем из a b
    jz add1 ; Если a - b = 0 переходим. Т. е. если a это + переходим

    ; Если не + то выполняем вычитание
sub1:
    ldi b, 255 ; 255 это -1
    add c, b ; Прибавляем -1. Т. е. вычитаем 1
    adc d, b
    jmp end ; Когда прибавили переходим в конец операции
add1:
    ldi b, 1 ; Тут просто прибавляем 1 и все
    add c, b
    ldi b, 0
    adc d, b
    ; Здесь переход к концу не нужен потому-что конец идет сразу
end:
    writenum d:c ; Выводим результат
    jmp loop ; Повторяем
; exit не нужен. Програма выполняется вечно
